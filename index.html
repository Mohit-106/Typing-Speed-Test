<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

    <title>Test Your Typing Speed</title>

</head>

<body>
    <div class="mainDiv">
        <div class="centerDiv">
            <h1>Test Your Typing Speed</h1>
            <h2 id="msg"></h2>
            <textarea id="mywords" cols="100" rows="10" placeholder="Lets Get Started">


            </textarea>
            <br />
            <button id="btn" class="mainbtn">Start</button>

        </div>
    </div>

</body>


<!-- javaScript -->



<script>

    // here we created a array of words we want to display for the typing test
    const setofWords = [
        "Hi Guys This Is Mohit",
      

    ];


    // here we selected all the the elements with which i want to work with
    const msg = document.getElementById('msg');
    const typeWords = document.getElementById('mywords');
    const btn = document.getElementById('btn');
    let startTime, endTime;



    const playGame = () => {
        let randomNumber = Math.floor(Math.random() * setofWords.length);  //it gives us the random index of the array to display for test
        msg.innerText = setofWords[randomNumber];

        let date = new Date();            // it gives us the time when test started
        startTime = date.getTime();
        btn.innerText = "Done";

        let 

    }

    const endPlay = () => {
        let date = new Date();
        endTime = date.getTime();  //end time of the test 
        let totalTime = ((endTime - startTime) / 1000);   // we divided by 1000 because js displays time in ms 

        let totalStr= typeWords.value;
        let wordCount = wordCounter(totalStr);
        let speed=Math.round((wordCount/totalTime)*60);  //it gives total speed
        let finalScore = speed+ " " +"words per minutes"; //this scotre we want to display\\\
        finalScore+=compareWords(msg.innerText ,totalStr);
        msg.innerText=finalScore;

    }
    const compareWords=(str1,str2)=>{
        let words1=str1.split(" ");
        let words2=str2.split(" ");
        let cnt=0;

        words1.forEach(function(item,index){
            if(item==words2[index]){
                cnt++;
            }
        })

        let errorWords=(words1.length-cnt);
        return("  "+cnt+" "+"correct out of"+" "+ words1.length+" "+ "words and total number of errors are"+ " " + errorWords +".");
        



    }

    const wordCounter=(str)=>{             
        let response = str.split(" ").length;   //this split tell us when space occure so that we come to know that new word will come
        return response;
    }





    btn.addEventListener('click', function () {             // this function basically manage the click on the start button

        if (this.innerText == 'Start') {
            typeWords.disabled = false;
            playGame();
        }
        else if (this.innerText == "Done") {
            typeWords.disabled = true;
            btn.innerText = "Start";
            endPlay();

        }

    })


</script>

</html>



<!-- //our tasks 

// 1 .When user press start button then only active the textarea else disable it and vice-versa; -->